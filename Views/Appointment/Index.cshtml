@model AppointmentViewModel
<h2>@(Model.ViewMode == AppointmentViewMode.Admin ? "All Appointments" : (Model.ViewMode == AppointmentViewMode.Client ? "My Appointments (Client)" : "My Appointments (Worker)"))</h2>

<table class="table">
  <thead>
    <tr>
      <th>Start</th>
      <th>End</th>
      @if (Model.ViewMode != AppointmentViewMode.Client) { <th>Client</th> }
      @if (Model.ViewMode != AppointmentViewMode.Worker) { <th>Healthcare worker</th> }
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
  @foreach (var a in Model.Appointments)
  {
    <tr>
      <td>@a.Start</td>
      <td>@a.End</td>
      @if (Model.ViewMode != AppointmentViewMode.Client) { <td>@a.Client?.Name</td> }
      @if (Model.ViewMode != AppointmentViewMode.Worker) { <td>@a.HealthcareWorker?.Name</td> }
      <td>@a.Notes</td>
      <td class="text-nowrap">
          <a asp-action="Details" asp-route-id="@a.Id" class="btn btn-sm btn-outline-secondary">Details</a>
          <a asp-action="Edit" asp-route-id="@a.Id" class="btn btn-sm btn-outline-primary">Edit</a>
          <a asp-action="Delete" asp-route-id="@a.Id" class="btn btn-sm btn-outline-danger">Delete</a>
      </td>
    </tr>
  }
  </tbody>
</table>
